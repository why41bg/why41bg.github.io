---
title: 设计模式：责任链模式
date: 2024-05-13 15:34:33
tags:
- Java
- GoF设计模式
categories:
- GoF设计模式
---

# 责任链模式

责任链模式允许将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。

例如在相应用户请求之前，需要对用户访问频率进行限制，对用户的请求进行敏感词过滤，对用户进行相关的权限校验。这一系列的操作就可以采用责任链模式进行设计。

责任链会将特定行为转换为被称作处理者的独立对象。 在上面这个例子中， 每个检查步骤都可被抽取为仅有单个方法的类， 并执行检查操作。 请求及其数据则会被作为参数传递给该方法。

责任链模式将这些处理者连成一条链。 链上的每个处理者都有一个成员变量来保存对于下一处理者的引用。 除了处理请求外， 处理者还负责沿着链传递请求。 请求会在链上移动， 直至所有处理者都有机会对其进行处理。

最重要的是： 处理者可以决定不再沿着链传递请求， 这可高效地取消所有后续处理步骤。责任链上各个处理者的顺序可由客户端代码决定。一系列相同的处理者可以选择性地组成多个责任链。



# 适用场景

1. 当程序需要使用不同方式处理不同种类请求，而且请求类型和顺序预先未知时，可以使用责任链模式。
2. 当必须按顺序执行多个处理者时，可考虑责任链模式。
3. 如果多个处理者的顺序需要动态改变，可考虑责任链模式。



# 优缺点

- 优点
	1. 可以控制请求处理的顺序
	2. 满足单一职责原则
	3. 满足开闭原则，在不改变现有类的情况下添加新的处理者
- 缺点
	1. 部分请求可能未被处理
